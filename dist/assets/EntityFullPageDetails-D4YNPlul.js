import{j as e}from"./ui-Dwp8H4lk.js";import{h as N,f as P,g as h,a as v}from"./vendor-CNWCjkky.js";import{R as j,U as S,V as F,W as L,X as p,E as $}from"./index-debFNmPV.js";const f="min-h-screen bg-muted -mx-4 -my-4 sm:-mx-6 lg:-mx-8",E="flex items-center justify-center",R="px-4 py-6 sm:px-6 lg:px-8";function w({entity:c,entityInfo:s,config:a,metadataComponent:r,actionsComponent:d,renderSections:l,onBack:u,totalItems:m=0,navigatePrevious:t,navigateNext:n,canNavigatePrevious:g,canNavigateNext:x}){return e.jsxs("div",{className:"space-y-8 rounded-lg p-6",children:[e.jsx($,{entityInfo:s,config:a,metadataComponent:()=>e.jsx(r,{info:s}),actionsComponent:()=>e.jsx(d,{entityInfo:s}),currentEntityId:c.transactionRef||c.id,onBack:u,isDetailView:!0,totalItems:m,navigatePrevious:t,navigateNext:n,canNavigatePrevious:g,canNavigateNext:x}),e.jsx("div",{className:"space-y-8",children:l({sections:{isExpanded:()=>!0,toggleSection:()=>{}},isDetailView:!0})})]})}function U({fetchData:c,basePath:s}){const{id:a}=N(),r=P(),[d]=h(),l=j(d),u=S.getPageSize(),m=F(d,{statusFilter:void 0,query:void 0,pageSize:u}),t=L({mode:"detail",fetchData:c,initialPage:l,initialFilters:m}),{state:n,setSelectedEntity:g}=t,x=t.currentEntity||n.data.find(o=>(o.transactionRef||o.id)===a)||null;v.useEffect(()=>{if(a&&n.data.length>0&&!t.currentEntity){const o=n.data.find(i=>(i.transactionRef||i.id)===a);o&&g(o)}},[a,n.data,t.currentEntity,g]),v.useEffect(()=>{if(t.currentEntity&&(t.currentEntity.transactionRef||t.currentEntity.id)!==a){const i=p(n.currentPage,n.filters).toString();r(`${s}/${t.currentEntity.transactionRef||t.currentEntity.id}${i?"?"+i:""}`,{replace:!0})}},[t.currentEntity,a,r,s,n.currentPage,n.filters]);const y=()=>{const i=p(n.currentPage,n.filters,a).toString();r(`${s}${i?"?"+i:""}`)};return{entity:x,isLoading:t.isLoading,navigationProps:{onBack:y,totalItems:n.totalItems,navigatePrevious:t.navigatePrevious,navigateNext:t.navigateNext,canNavigatePrevious:t.canNavigatePrevious,canNavigateNext:t.canNavigateNext}}}function A({fetchData:c,renderDetails:s,entityName:a,basePath:r}){const{id:d}=N(),{entity:l,isLoading:u,navigationProps:m}=U({fetchData:c,basePath:r});return u?e.jsx("div",{className:`${f} ${E}`,children:e.jsxs("div",{className:"text-muted-foreground",children:["Loading ",a," details..."]})}):l?e.jsx("div",{className:f,children:e.jsx("div",{className:R,children:e.jsx("div",{className:"mx-auto max-w-7xl",children:s(l,m)})})}):e.jsx("div",{className:`${f} ${E}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:[a," Not Found"]}),e.jsxs("p",{className:"text-muted-foreground",children:[a,' with ID "',d,'" could not be found.']})]})})}export{w as B,A as E};
