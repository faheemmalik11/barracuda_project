import{j as e}from"./ui-Dwp8H4lk.js";import{a as l,f as ce,d as de,u as Ge}from"./vendor-CNWCjkky.js";import{Y as te,bi as Ke,bj as Qe,bk as Xe,bl as Ye,bm as Je,bn as es,bo as ss,bp as ts,bq as as,br as rs,bs as is,bt as ns,bu as ls,bv as cs,bw as ds,P as ee,S as xe,E as he,bx as os,by as ms,bz as us,a2 as P,a5 as E,ae as M,a3 as $,a4 as L,bA as xs,b2 as hs,bB as ne,bh as ie,Z as I,bC as ps,bD as gs,_ as fs,b6 as js,a8 as vs,a6 as k,bE as ys,bF as Ns,D as pe,bG as bs,aj as ws,am as ae,ai as S,bH as Se,aY as le,bI as Pe,az as Ss,t as A,l as ge,as as Cs,s as Ts,aB as ks,f as fe,p as je,a7 as R,a9 as z,aa as U,ab as Z,ac as q,ad as T,bJ as Ee,aT as ve,bK as ye,aK as Ce,bL as Te,ar as Ds,bM as ke,bN as re,bO as Fs,bP as Me,bQ as De,aJ as Fe,aV as Os,ah as Ie,bR as As,aA as Y,bS as Re,a1 as $e,bT as Ps,bU as Es,bV as Ms,n as Le,o as Be,bW as Is,bX as Rs,aL as $s,bY as Ls,bZ as oe,aS as Bs,b_ as _s,aU as Vs,b$ as zs,c0 as Us,c1 as Zs,c2 as qs,c3 as Hs,c4 as me,c5 as ue}from"./index-debFNmPV.js";import{s as _,a as Q}from"./subHours-DmDwdsHQ.js";import{A as Ws,m as Gs}from"./animations-DgOVmwgG.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=te("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=te("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=te("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function et(t,d,i){const o=Ke(t,i?.in);return o.setTime(o.getTime()+d*Qe),o}function X(t,d,i){return et(t,-d,i)}function st(t){return{id:t.id,title:`Terminal ${t.id}`,subtitle:`${t.model} • ${t.location}`,status:t.status,amount:null,currency:null,createdAt:t.installDate||new Date().toISOString(),metadata:[{label:"Model",value:t.model},{label:"Serial",value:t.serialNumber},{label:"Status",value:t.status},{label:"Store",value:t.store}]}}function tt(t={}){const[d]=l.useState({header:!0,cards:!0,activity:!0,hardware:!0,configuration:!0,profile:!0,connectivity:!0,risk:!0,events:!0,order:!0,...t});return d}const at=[{key:"header",component:Xe,alwaysExpanded:!0,supportsExpansion:!1},{key:"cards",component:Ye,alwaysExpanded:!0,supportsExpansion:!1},{key:"activity",component:Je,supportsExpansion:!0},{key:"profile",component:es,supportsExpansion:!0},{key:"connectivity",component:ss,supportsExpansion:!0},{key:"services",component:ts,supportsExpansion:!0},{key:"visual",component:as,supportsExpansion:!0},{key:"integration",component:rs,supportsExpansion:!0},{key:"hardware",component:is,supportsExpansion:!0},{key:"risk",component:ns,supportsExpansion:!0},{key:"configuration",component:ls,supportsExpansion:!0},{key:"order",component:cs,supportsExpansion:!0},{key:"eventsLogs",component:ds,alwaysExpanded:!0,supportsExpansion:!1}];function rt({sections:t,isDetailView:d=!1,terminalData:i}){return at.map(({key:o,component:s,supportsExpansion:r,props:c={}})=>{const a={...c};return i&&(a.terminalData=i),d?(r&&(a.isExpanded=!0,a.onToggle=()=>{}),a.isDetailView=!0):r&&(a.isExpanded=t.isExpanded(o),a.onToggle=()=>t.toggleSection(o)),e.jsx(s,{...a},o)})}function it({open:t,onOpenChange:d,terminal:i,onBack:o,onOpenFullDetails:s,totalItems:r,navigatePrevious:c,navigateNext:a,canNavigatePrevious:n,canNavigateNext:g}){tt({activity:!0,hardware:!0,connectivity:!0,configuration:!0});const m={isExpanded:()=>!0,toggleSection:()=>{}};return i?e.jsx(ee,{id:"terminal-details",open:t,children:e.jsx("div",{className:"h-full flex flex-col bg-muted",children:e.jsxs(xe,{ariaLabel:"Terminal details content",children:[e.jsx(he,{entityInfo:st(i),config:us,metadataComponent:ms,actionsComponent:os,onBack:o??(()=>d(!1)),currentEntityId:i.id,onOpenFullDetails:s,totalItems:r,navigatePrevious:c,navigateNext:a,canNavigatePrevious:n,canNavigateNext:g}),rt({sections:m,terminalData:i})]})})}):e.jsx(ee,{id:"terminal-details",open:t,children:e.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No terminal selected"})})}function nt({title:t="Getting Started",description:d="Complete the following steps to set up your configuration.",items:i=[],onItemAction:o,showProgress:s=!0,completedCount:r=0,totalCount:c=0}){const a=g=>{switch(g){case"completed":return e.jsx(ie,{className:"w-5 h-5 text-green-500"});case"in-progress":return e.jsx(ne,{className:"w-5 h-5 text-blue-500"});case"error":return e.jsx(hs,{className:"w-5 h-5 text-red-500"});default:return e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})}},n=g=>{switch(g){case"completed":return"border-green-200 bg-green-50";case"in-progress":return"border-blue-200 bg-blue-50";case"error":return"border-red-200 bg-red-50";default:return"border-gray-200 bg-white"}};return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:t}),e.jsx("p",{className:"text-gray-600",children:d}),s&&c>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[r," of ",c," completed"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${c>0?r/c*100:0}%`}})})]})]}),i.length>0&&e.jsx("div",{className:"grid gap-4",children:i.map((g,m)=>e.jsx(P,{className:n(g.status),children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:a(g.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),g.action&&o&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>o(m),className:"flex-shrink-0",children:[g.action,e.jsx(Ks,{className:"w-4 h-4 ml-1"})]})]})})},m))}),i.length===0&&e.jsxs(P,{children:[e.jsxs($,{children:[e.jsx(L,{children:"Welcome to the Setup"}),e.jsx(xs,{children:"Use the navigation on the left to begin configuring your settings."})]}),e.jsx(E,{children:e.jsx("p",{className:"text-sm text-gray-600",children:"Select a step from the sidebar to get started with the configuration process."})})]})]})})}function Ne({isOpen:t,onClose:d,title:i,subtitle:o,steps:s,currentStep:r,onStepChange:c,canNavigateToStep:a=()=>!0,onMinimize:n,onMaximize:g,showAutoSave:m=!1,autoSaveStatus:f="saved",renderStepContent:N}){const[C,w]=l.useState("full"),[v,p]=l.useState(null),x=l.useRef(null),h=l.useRef(null),u=l.useCallback(b=>{b.key==="Escape"?d():b.ctrlKey&&b.key==="m"?(b.preventDefault(),F()):b.key==="F11"&&(b.preventDefault(),H())},[d]),F=l.useCallback(()=>{w("minimized"),n?.()},[n]),H=l.useCallback(()=>{w(C==="full"?"partial":"full"),g?.()},[C,g]);l.useEffect(()=>{t?(h.current=document.activeElement,setTimeout(()=>{x.current?.focus()},100)):h.current&&h.current.focus()},[t]),l.useEffect(()=>{if(t)return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[t,u]),l.useEffect(()=>{const b=s[r];b?.substeps&&b.substeps.length>0&&!v&&p(b.substeps[0].id)},[r,v,s]);const W=l.useCallback(b=>{if(b<=r||a(b)){c(b);const B=s[b];B.substeps&&B.substeps.length>0?p(B.substeps[0].id):p(null)}},[r,a,c,s]),J=l.useCallback(b=>{p(b)},[]);l.useCallback(()=>{const b=s[r];if(!b?.substeps||!v)return;const B=b.substeps.findIndex(V=>V.id===v);if(B<b.substeps.length-1)p(b.substeps[B+1].id);else if(r<s.length-1){const V=r+1;c(V);const G=s[V];G?.substeps&&G.substeps.length>0?p(G.substeps[0].id):p(null)}},[r,v,s,c]);const se=l.useMemo(()=>!v&&!N?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:s[r]?.title||"Select a section"}),e.jsx("p",{className:"text-gray-600",children:"Please select a section from the left sidebar to continue."})]})}):N?N(s[r]?.id||"",v):e.jsx(nt,{}),[v,s,r,N]);return t?C==="minimized"?e.jsx("div",{className:"fixed bottom-4 right-4 z-50 bg-primary text-primary-foreground rounded-lg px-4 py-2 shadow-lg cursor-pointer transition-all duration-300 hover:scale-105",onClick:()=>w("full"),role:"button",tabIndex:0,onKeyDown:b=>b.key==="Enter"&&w("full"),"aria-label":`Restore ${i} modal`,children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-medium",children:i})})}):e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-300",onClick:C==="partial"?d:void 0}),e.jsxs("div",{ref:x,className:I("relative bg-white shadow-2xl transition-all duration-300 ease-in-out animate-in slide-in-from-bottom-4 fade-in-0 flex flex-col",C==="full"&&"w-full h-full",C==="partial"&&"w-[95%] h-[85%] rounded-lg"),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",tabIndex:-1,"aria-describedby":o?"modal-subtitle":void 0,children:[e.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-3 border-b border-gray-200 bg-white flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:d,className:"p-1 h-8 w-8","aria-label":"Close modal",children:e.jsx(ps,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:F,className:"p-1 h-8 w-8","aria-label":"Minimize modal",children:e.jsx(gs,{className:"h-4 w-4"})}),e.jsx("h1",{id:"modal-title",className:"text-lg font-medium text-gray-900",children:i}),o&&e.jsx("p",{id:"modal-subtitle",className:"text-sm text-gray-600",children:o})]}),m&&e.jsxs("div",{className:"flex items-center gap-2",role:"status","aria-live":"polite",children:[e.jsx("div",{className:I("w-2 h-2 rounded-full",f==="saving"&&"bg-yellow-500 animate-pulse",f==="saved"&&"bg-green-500",f==="error"&&"bg-red-500"),"aria-hidden":"true"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[f==="saving"&&"Saving...",f==="saved"&&"Saved",f==="error"&&"Error saving"]})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-80 flex-shrink-0",children:e.jsx(lt,{steps:s,currentStep:r,currentSubstep:v,onStepClick:W,onSubstepClick:J,canNavigateToStep:a})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:se})]})]})]}):null}function lt({steps:t,currentStep:d,currentSubstep:i,onStepClick:o,onSubstepClick:s,canNavigateToStep:r}){return e.jsx("div",{className:"h-full bg-gray-50 border-r border-gray-200 overflow-y-auto",children:e.jsx("div",{className:"p-4",children:e.jsx("nav",{"aria-label":"Stepper navigation",children:e.jsx("ol",{className:"space-y-1",children:t.map((c,a)=>{const n=a===d,g=c.isCompleted||a<d,m=a<=d||r(a);return e.jsxs("li",{children:[e.jsx("button",{type:"button",onClick:()=>m&&o(a),disabled:!m,className:I("w-full text-left p-3 rounded-lg transition-all duration-200 group","focus:outline-none focus:ring-2 focus:ring-primary/20",n&&"bg-primary/10 border border-primary/20",!n&&!g&&m&&"hover:bg-gray-100",!n&&g&&"bg-green-50 border border-green-200",!m&&"opacity-50 cursor-not-allowed"),"aria-current":n?"step":void 0,"aria-label":`Step ${a+1}: ${c.title}${c.isOptional?" (optional)":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:I("flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium transition-colors",g&&"bg-green-500 text-white",n&&!g&&"bg-primary text-primary-foreground",!n&&!g&&"bg-gray-200 text-gray-600"),children:g?e.jsx(fs,{className:"w-3 h-3"}):a+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:I("text-sm font-medium truncate",n&&"text-primary",g&&"text-green-700",!n&&!g&&"text-gray-900"),children:c.title}),c.isOptional&&e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:"Optional"})]}),c.description&&e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:c.description})]}),c.substeps&&c.substeps.length>0&&e.jsx(js,{className:I("w-4 h-4 transition-transform",n&&"rotate-90","text-gray-400")})]})}),c.substeps&&c.substeps.length>0&&n&&e.jsx("div",{className:"mt-2 ml-9 space-y-1",role:"group","aria-label":`${c.title} substeps`,children:c.substeps.map(f=>{const N=i===f.id;return e.jsxs("button",{type:"button",onClick:()=>s(f.id),className:I("w-full text-left p-2 rounded-md transition-all duration-200 text-sm","focus:outline-none focus:ring-2 focus:ring-primary/20",N&&"bg-primary/5 border border-primary/20 text-primary",!N&&"hover:bg-gray-100 text-gray-700"),"aria-current":N?"step":void 0,"aria-label":`Substep: ${f.title}${f.isOptional?" (optional)":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:I("w-2 h-2 rounded-full",N&&"bg-primary",!N&&"bg-gray-300")}),e.jsx("span",{className:"font-medium truncate",children:f.title}),f.isOptional&&e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-1 py-0.5 rounded",children:"Optional"})]}),f.description&&e.jsx("p",{className:"text-xs text-gray-600 mt-1 ml-4 line-clamp-2",children:f.description})]},f.id)})})]},c.id)})})})})})}const Oe=[{id:"countertop",name:"Countertop Terminal",description:"Perfect for retail stores and restaurants",models:[{id:"CT-100",name:"CT-100",description:"Basic countertop model",price:"$299",specs:{display:'2.8" Color LCD',connectivity:"Ethernet, WiFi",cardReader:"EMV Chip & PIN, Magnetic Stripe",dimensions:'6.5" x 3.2" x 2.1"',weight:"1.2 lbs"}},{id:"CT-200",name:"CT-200 Pro",description:"Advanced features with NFC",price:"$399",specs:{display:'4.3" Color Touchscreen',connectivity:"Ethernet, WiFi, Bluetooth",cardReader:"EMV Chip & PIN, Magnetic Stripe, NFC",dimensions:'7.1" x 3.8" x 2.3"',weight:"1.5 lbs"}},{id:"CT-300",name:"CT-300 Advanced",description:"Premium model with touchscreen",price:"$499",specs:{display:'5.5" HD Color Touchscreen',connectivity:"Ethernet, WiFi, Bluetooth, 4G",cardReader:"EMV Chip & PIN, Magnetic Stripe, NFC, Contactless",dimensions:'8.2" x 4.1" x 2.5"',weight:"1.8 lbs"}}]},{id:"mobile",name:"Mobile Terminal",description:"Portable solution for on-the-go payments",models:[{id:"MB-50",name:"MB-50",description:"Compact mobile terminal",price:"$199",specs:{display:'2.4" Monochrome LCD',connectivity:"WiFi, Bluetooth",cardReader:"EMV Chip & PIN, Magnetic Stripe",battery:"8 hours continuous use",weight:"0.8 lbs"}},{id:"MB-75",name:"MB-75 Plus",description:"Extended battery life",price:"$249",specs:{display:'3.2" Color LCD',connectivity:"WiFi, Bluetooth, 4G",cardReader:"EMV Chip & PIN, Magnetic Stripe, NFC",battery:"12 hours continuous use",weight:"1.0 lbs"}},{id:"MB-100",name:"MB-100 Enterprise",description:"Rugged design for heavy use",price:"$349",specs:{display:'4.0" Color Touchscreen',connectivity:"WiFi, Bluetooth, 4G, GPS",cardReader:"EMV Chip & PIN, Magnetic Stripe, NFC, Contactless",battery:"16 hours continuous use",weight:"1.3 lbs"}}]},{id:"integrated",name:"Integrated Terminal",description:"Built-in solution for POS systems",models:[{id:"INT-400",name:"INT-400",description:"Standard integration module",price:"$179",specs:{interface:"USB, Serial",cardReader:"EMV Chip & PIN, Magnetic Stripe",dimensions:'4.5" x 2.8" x 1.2"',power:"USB Powered",weight:"0.6 lbs"}},{id:"INT-500",name:"INT-500 Pro",description:"Enhanced processing power",price:"$229",specs:{interface:"USB, Serial, Ethernet",cardReader:"EMV Chip & PIN, Magnetic Stripe, NFC",dimensions:'5.1" x 3.2" x 1.4"',power:"USB or External Adapter",weight:"0.8 lbs"}},{id:"INT-600",name:"INT-600 Max",description:"Maximum performance integration",price:"$299",specs:{interface:"USB, Serial, Ethernet, WiFi",cardReader:"EMV Chip & PIN, Magnetic Stripe, NFC, Contactless",dimensions:'5.8" x 3.6" x 1.6"',power:"External Adapter Required",weight:"1.1 lbs"}}]}],ct={"CT-100":[{id:"receipt-printer",name:"Receipt Printer",price:"$149"},{id:"cash-drawer",name:"Cash Drawer",price:"$199"},{id:"customer-display",name:"Customer Display",price:"$129"}],"CT-200":[{id:"receipt-printer",name:"Receipt Printer",price:"$149"},{id:"barcode-scanner",name:"Barcode Scanner",price:"$89"},{id:"cash-drawer",name:"Cash Drawer",price:"$199"},{id:"customer-display",name:"Customer Display",price:"$129"},{id:"nfc-reader",name:"External NFC Reader",price:"$79"}],"CT-300":[{id:"receipt-printer",name:"Receipt Printer",price:"$149"},{id:"barcode-scanner",name:"Barcode Scanner",price:"$89"},{id:"cash-drawer",name:"Cash Drawer",price:"$199"},{id:"customer-display",name:"Customer Display",price:"$129"},{id:"signature-pad",name:"Signature Pad",price:"$99"}],"MB-50":[{id:"protective-case",name:"Protective Case",price:"$39"},{id:"car-charger",name:"Car Charger",price:"$29"},{id:"belt-holster",name:"Belt Holster",price:"$19"}],"MB-75":[{id:"protective-case",name:"Protective Case",price:"$39"},{id:"car-charger",name:"Car Charger",price:"$29"},{id:"belt-holster",name:"Belt Holster",price:"$19"},{id:"extended-battery",name:"Extended Battery",price:"$59"}],"MB-100":[{id:"protective-case",name:"Rugged Protective Case",price:"$59"},{id:"car-charger",name:"Car Charger",price:"$29"},{id:"belt-holster",name:"Heavy Duty Belt Holster",price:"$29"},{id:"extended-battery",name:"Extended Battery",price:"$59"},{id:"vehicle-mount",name:"Vehicle Mount",price:"$79"}],"INT-400":[{id:"integration-cable",name:"Integration Cable Kit",price:"$49"},{id:"mounting-bracket",name:"Mounting Bracket",price:"$29"}],"INT-500":[{id:"integration-cable",name:"Integration Cable Kit",price:"$49"},{id:"mounting-bracket",name:"Mounting Bracket",price:"$29"},{id:"power-adapter",name:"External Power Adapter",price:"$39"}],"INT-600":[{id:"integration-cable",name:"Integration Cable Kit",price:"$49"},{id:"mounting-bracket",name:"Mounting Bracket",price:"$29"},{id:"power-adapter",name:"External Power Adapter",price:"$39"},{id:"cooling-fan",name:"Cooling Fan Module",price:"$69"}]},be=l.memo(function({formData:d={deviceSelection:{deviceType:"",deviceModel:"",accessories:[],quantity:1}},updateFormData:i=()=>{},onNext:o,onBack:s}){const{deviceSelection:r}=d,c=l.useRef(null),a=l.useRef(null),[n,g]=l.useState(!1),m=u=>{i({deviceSelection:{...r,deviceType:u,deviceModel:"",accessories:[]}}),setTimeout(()=>{c.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},f=u=>{i({deviceSelection:{...r,deviceModel:u,accessories:[]}}),setTimeout(()=>{a.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},N=u=>{i({deviceSelection:{...r,quantity:Math.max(1,u)}})},C=(u,F)=>{const H=F?[...r.accessories,u]:r.accessories.filter(W=>W!==u);i({deviceSelection:{...r,accessories:H}})},w=Oe.find(u=>u.id===r.deviceType),v=w?.models.find(u=>u.id===r.deviceModel),p=r.deviceModel?ct[r.deviceModel]||[]:[],x=r.deviceType&&r.deviceModel&&r.quantity>0,h=u=>({"CT-100":["Small retail stores","Coffee shops","Quick service restaurants"],"CT-200":["Medium retail stores","Restaurants","Service businesses"],"CT-300":["Large retail chains","Full-service restaurants","Enterprise businesses"],"MB-50":["Food trucks","Market vendors","Delivery services"],"MB-75":["Field sales","Trade shows","Mobile services"],"MB-100":["Construction sites","Outdoor events","Industrial applications"],"INT-400":["Small POS systems","Kiosks","Basic integrations"],"INT-500":["Medium POS systems","Retail chains","Advanced integrations"],"INT-600":["Enterprise POS systems","Complex integrations","High-volume processing"]})[u]||[];return e.jsxs("div",{className:"flex flex-col h-full relative",children:[e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl space-y-8",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Select Device"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[e.jsx("h3",{className:"col-span-3 text-lg font-medium text-gray-900 mb-2",children:"Device Type"}),Oe.map(u=>e.jsx("div",{className:I("p-6 border-2 rounded-xl cursor-pointer transition-all hover:shadow-lg",r.deviceType===u.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300"),onClick:()=>m(u.id),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xs",children:u.name.split(" ").map(F=>F[0]).join("")})}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("input",{type:"radio",name:"deviceType",value:u.id,checked:r.deviceType===u.id,onChange:()=>m(u.id),className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:u.name}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:u.description})]})]})},u.id))]}),w&&e.jsxs("div",{className:"mb-8",ref:c,children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Device Model"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:w.models.map(u=>e.jsx("div",{className:I("p-4 border-2 rounded-xl cursor-pointer transition-all hover:shadow-lg",r.deviceModel===u.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300"),onClick:()=>f(u.id),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center text-white font-bold text-xs",children:u.name.replace(/[^A-Z0-9]/g,"")})}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("input",{type:"radio",name:"deviceModel",value:u.id,checked:r.deviceModel===u.id,onChange:()=>f(u.id),className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:u.name}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:u.description}),e.jsx("p",{className:"text-sm font-medium text-blue-600",children:u.price})]})]})},u.id))})]}),r.deviceModel&&p.length>0&&e.jsxs("div",{className:"space-y-4 mb-8",ref:a,children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Available Accessories for ",r.deviceModel]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.map(u=>e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-xs",children:u.name.split(" ").map(F=>F[0]).join("").slice(0,2)})}),e.jsx(vs,{id:u.id,checked:r.accessories.includes(u.id),onCheckedChange:F=>C(u.id,F)}),e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{htmlFor:u.id,className:"font-medium cursor-pointer",children:u.name}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:u.price})]})]},u.id))})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[s&&e.jsx(M,{variant:"outline",onClick:s,children:"Back"}),e.jsx(M,{onClick:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 flex-1",disabled:!x,children:"Continue"})]})})]})})}),v&&e.jsxs("div",{className:I("fixed top-0 right-0 h-full bg-white shadow-2xl border-l border-gray-200 transition-all duration-300 z-50",n?"w-1/2":"w-96"),children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:()=>g(!1)}),e.jsx("div",{className:"relative z-50 h-full overflow-y-auto p-6",children:e.jsxs("div",{className:"sticky top-0 bg-white pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Device Preview"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>i({deviceSelection:{...r,deviceModel:""}}),className:"text-xs text-gray-500 hover:text-gray-700",children:"×"})})]}),e.jsx("div",{className:I("bg-gray-50 rounded-lg border-2 border-gray-200 flex items-center justify-center mb-6",n?"w-full h-80":"w-full h-64"),children:e.jsx("div",{className:I("bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg flex items-center justify-center text-white font-bold",n?"w-60 h-40 text-2xl":"w-40 h-32 text-xl"),children:v.name})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.name}),e.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v.price})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-900 mb-3",children:"Specifications"}),e.jsx("div",{className:I("space-y-2",n?"grid grid-cols-1 gap-3":""),children:Object.entries(v.specs).map(([u,F])=>e.jsxs("div",{className:I("flex text-sm",n?"flex-col space-y-1 p-3 bg-gray-50 rounded-lg border":"justify-between"),children:[e.jsxs("span",{className:I("text-gray-600 capitalize",n?"font-medium text-xs uppercase tracking-wide":""),children:[u.replace(/([A-Z])/g," $1"),":"]}),e.jsx("span",{className:I("text-gray-900 font-medium",n?"text-base":""),children:F})]},u))})]}),n&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-900 mb-3",children:"Ideal Use Cases"}),e.jsx("div",{className:"space-y-2",children:h(v.id).map((u,F)=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg border",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:u})]},F))})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-900 mb-3",children:"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>N(r.quantity-1),disabled:r.quantity<=1,className:"w-8 h-8 p-0",children:"-"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900 min-w-[2rem] text-center",children:r.quantity}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>N(r.quantity+1),className:"w-8 h-8 p-0",children:"+"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Total: ",v.price.replace("$","")," × ",r.quantity," = $",(parseInt(v.price.replace("$",""))*r.quantity).toLocaleString()]})]})]})})]})]})});function dt({terminals:t=[],selectedTerminals:d=[],onSelectionChange:i=()=>{},onViewTerminal:o,onRestartTerminal:s,onConfigureTerminal:r,onUpdateStatus:c,unavailableItems:a=[],loading:n=!1,emptyStateDescription:g="No terminals found.",pagination:m,status:f,managedColumns:N}){const C=x=>{switch(x){case"online":return"secondary";case"offline":return"outline";case"error":return"destructive";case"maintenance":return"warning";default:return"outline"}},w=[{key:"terminal",header:"Terminal",width:180,render:x=>e.jsx(ae,{maxWidth:180,className:"font-bold",title:x.label||"Unknown Terminal",children:x.label||"Unknown Terminal"})},{key:"serialNumber",header:"Serial",width:120,render:x=>e.jsx(ae,{maxWidth:120,className:"text-muted-foreground group-hover:text-foreground font-normal",title:x.serialNumber||"No serial",children:x.serialNumber||"No serial"})},{key:"status",header:"Status",width:100,render:x=>e.jsx(S,{variant:C(x?.status||"offline"),children:x?.status||"offline"})},{key:"merchant",header:"Merchant",width:200,render:x=>e.jsx(ae,{maxWidth:200,className:"text-xs text-muted-foreground group-hover:text-foreground",title:typeof x.registeredTo=="string"?x.registeredTo:x.registeredTo?.name||"Unassigned",children:typeof x.registeredTo=="string"?x.registeredTo:x.registeredTo?.name||"Unassigned"})},bs(200),{key:"device",header:"Device",width:150,render:x=>{const h=`${x.deviceType||"Unknown"} v${x.firmware||"0.0"}`;return e.jsx(Se,{icon:e.jsx(le,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),className:"text-sm text-foreground group-hover:text-foreground",children:e.jsx(ae,{maxWidth:150,title:h,children:h})})}},{key:"battery",header:"Battery",width:100,render:x=>x.batteryLevel?e.jsx(Se,{icon:e.jsx(Pe,{className:"h-3 w-3 text-muted-foreground"}),className:"text-foreground",children:e.jsxs("span",{className:"text-sm",children:[x.batteryLevel,"%"]})}):e.jsx("span",{className:"text-muted-foreground text-sm",children:"N/A"})},ws("lastSeen","Last seen",150,!1)],v=l.useMemo(()=>ys({onView:o,onRestart:s,onConfigure:r,onUpdateStatus:c}),[o,s,r,c]),p=l.useMemo(()=>Ns({onRestart:s}),[s]);return e.jsx(pe,{data:t,columns:w,selectedItems:d,onSelectionChange:i,getItemId:x=>x.id,onRowClick:o,rowActions:v,hoverActions:p,unavailableItems:a,loading:n,emptyStateDescription:g,pagination:m,status:f,managedColumns:N})}const Ae=[{id:"tmr_1234567890",label:"Main Counter Terminal",serialNumber:"ST-MC-001",status:"online",location:{name:"Downtown Store",address:"123 Main Street",city:"San Francisco",state:"CA",country:"US"},deviceType:"Stripe Reader S700",connectionType:"wifi",batteryLevel:85,lastSeen:X(new Date,2),created:_(new Date,45),lastTransaction:X(new Date,15),totalTransactions:1247,totalVolume:89450,firmware:"1.2.3",ipAddress:"192.168.1.101",registeredTo:{id:"usr_001",name:"Sarah Johnson",email:"sarah@example.com"}},{id:"tmr_2345678901",label:"Mobile Terminal 1",serialNumber:"BB-MOB-002",status:"online",location:{name:"Food Truck Alpha",address:"Mission District",city:"San Francisco",state:"CA",country:"US"},deviceType:"BBPOS Chipper 2X BT",connectionType:"bluetooth",batteryLevel:67,lastSeen:X(new Date,5),created:_(new Date,30),lastTransaction:Q(new Date,1),totalTransactions:892,totalVolume:34200,firmware:"2.1.0",registeredTo:{id:"usr_002",name:"Mike Chen",email:"mike@foodtruck.com"}},{id:"tmr_3456789012",label:"Checkout Terminal 2",serialNumber:"VF-CHK-003",status:"offline",location:{name:"Westfield Mall",address:"865 Market Street",city:"San Francisco",state:"CA",country:"US"},deviceType:"Verifone P400",connectionType:"ethernet",lastSeen:Q(new Date,3),created:_(new Date,60),lastTransaction:Q(new Date,4),totalTransactions:2156,totalVolume:156780,firmware:"3.4.1",ipAddress:"192.168.1.102",registeredTo:{id:"usr_003",name:"Lisa Rodriguez",email:"lisa@westfield.com"}},{id:"tmr_4567890123",label:"Pop-up Stand Terminal",serialNumber:"SQ-POP-004",status:"error",location:{name:"Farmers Market",address:"Ferry Building",city:"San Francisco",state:"CA",country:"US"},deviceType:"Square Terminal",connectionType:"wifi",batteryLevel:23,lastSeen:Q(new Date,1),created:_(new Date,15),lastTransaction:Q(new Date,2),totalTransactions:345,totalVolume:12890,firmware:"1.8.2",registeredTo:{id:"usr_004",name:"David Kim",email:"david@farmersmarket.com"}},{id:"tmr_5678901234",label:"Backup Terminal",serialNumber:"ST-BAK-005",status:"maintenance",location:{name:"Storage Room",address:"123 Main Street",city:"San Francisco",state:"CA",country:"US"},deviceType:"Stripe Reader S700",connectionType:"wifi",lastSeen:_(new Date,2),created:_(new Date,90),lastTransaction:_(new Date,3),totalTransactions:567,totalVolume:23450,firmware:"1.1.9",registeredTo:{id:"usr_001",name:"Sarah Johnson",email:"sarah@example.com"}},{id:"tmr_6789012345",label:"Drive-thru Terminal",serialNumber:"BB-DRV-006",status:"online",location:{name:"Coffee Shop Drive-thru",address:"456 Oak Avenue",city:"Oakland",state:"CA",country:"US"},deviceType:"BBPOS Chipper 2X BT",connectionType:"cellular",batteryLevel:91,lastSeen:X(new Date,1),created:_(new Date,20),lastTransaction:X(new Date,8),totalTransactions:1834,totalVolume:67890,firmware:"2.0.5",registeredTo:{id:"usr_005",name:"Emma Wilson",email:"emma@coffeeshop.com"}},{id:"tmr_7890123456",label:"Kiosk Terminal A",serialNumber:"VF-KSK-007",status:"online",location:{name:"Airport Terminal 1",address:"San Francisco International Airport",city:"San Francisco",state:"CA",country:"US"},deviceType:"Verifone P400",connectionType:"ethernet",lastSeen:X(new Date,3),created:_(new Date,120),lastTransaction:X(new Date,12),totalTransactions:4567,totalVolume:234560,firmware:"3.4.2",ipAddress:"10.0.1.205",registeredTo:{id:"usr_006",name:"Airport Services",email:"terminals@sfo.com"}},{id:"tmr_8901234567",label:"Delivery Terminal",serialNumber:"SQ-DEL-008",status:"offline",location:{name:"Delivery Van #3",address:"Mobile Unit",city:"San Francisco",state:"CA",country:"US"},deviceType:"Square Terminal",connectionType:"cellular",batteryLevel:12,lastSeen:Q(new Date,6),created:_(new Date,35),lastTransaction:Q(new Date,7),totalTransactions:723,totalVolume:45670,firmware:"1.8.1",registeredTo:{id:"usr_007",name:"Delivery Co",email:"fleet@delivery.com"}}],ot=({pageSize:t=20,currentPage:d=1,statusFilter:i="all",filters:o={}})=>{const s=ce(),[r,c]=l.useState(i),[a,n]=l.useState(o),[g,m]=l.useState(!1),[f]=l.useState(null),N=Ss(a,300),C=l.useMemo(()=>JSON.stringify({statusFilter:r,...N}),[r,N]),w=l.useMemo(()=>{let j=[...Ae];if(r&&r!=="all"&&(j=j.filter(y=>y.status===r)),a.location&&typeof a.location=="string"){const y=a.location.toLowerCase();j=j.filter(O=>typeof O.location=="string"?O.location.toLowerCase().includes(y):O.location.name.toLowerCase().includes(y)||O.location.city.toLowerCase().includes(y))}if(a.deviceType&&typeof a.deviceType=="string"){const y=a.deviceType.toLowerCase();j=j.filter(O=>O.deviceType.toLowerCase().includes(y))}if(a.serialNumber&&typeof a.serialNumber=="string"){const y=a.serialNumber.toLowerCase();j=j.filter(O=>O.serialNumber.toLowerCase().includes(y))}return a.connectionType&&a.connectionType!=="all"&&(j=j.filter(y=>"connectionType"in y&&y.connectionType===a.connectionType)),a.lowBattery===!0&&(j=j.filter(y=>(y.batteryLevel||0)<20)),j},[r,a]),v=l.useMemo(()=>{const j=(d-1)*t,y=j+t;return w.slice(j,y)},[w,d,t]),p=w.length,x=Math.ceil(p/t);l.useEffect(()=>{m(!0);const j=setTimeout(()=>{m(!1)},100);return()=>clearTimeout(j)},[C,d]);const h=l.useMemo(()=>{const j=Ae.reduce((y,O)=>(y[O.status]=(y[O.status]||0)+1,y),{});return{status:Object.entries(j).map(([y,O])=>({value:y,count:O}))}},[]),u=l.useMemo(()=>{let j=0;return r&&r!=="all"&&j++,j+=Object.values(a).filter(y=>!y||y==="all"||y===""?!1:Array.isArray(y)?y.length>0:typeof y=="object"?Object.keys(y).length>0:!0).length,j},[r,a]),F=l.useCallback(()=>{c("all"),n({})},[]),H=l.useCallback(j=>{r!==j&&(c(j),j==="all"&&n({}))},[r]),W=l.useCallback(j=>{n(j),Object.entries(j).filter(([O])=>O!=="status").some(([,O])=>O==null||O===""?!1:Array.isArray(O)?O.length>0:typeof O=="object"?Object.keys(O).length>0:!0)&&r!==""&&c("")},[r]),J=l.useCallback(()=>{s("/terminals/create")},[s]),se=l.useCallback(j=>{A.success(`Exporting ${j.length} terminals`)},[]),b=l.useCallback(j=>{A.success(`Terminal ${j.label} is restarting`)},[]),B=l.useCallback(j=>{s(`/terminals/${j.id}/configure`)},[s]),V=l.useCallback((j,y)=>{A.success(`Terminal ${j.label} status updated to ${y}`)},[]),G=l.useCallback(j=>{s(`/terminals/${j.id}`)},[s]);return{terminals:v,totalItems:p,totalPages:x,isLoading:g,error:f,facets:h,statusFilter:r,tableFilters:a,activeFiltersCount:u,setStatusFilter:H,setTableFilters:W,clearAllFilters:F,query:C,createTerminal:J,exportTerminals:se,restartTerminal:b,configureTerminal:B,updateTerminalStatus:V,viewTerminalDetails:G}};function mt({closePanelsTrigger:t}){const[d,i]=l.useState(1),[o,s]=l.useState([]),[r,c]=l.useState(void 0),[a,n]=l.useState(null),[g,m]=l.useState(!1),[f,N]=l.useState(!1),[C,w]=l.useState(0),[v,p]=l.useState({deviceSelection:{deviceType:"",deviceModel:"",accessories:[],quantity:1}}),x=l.useRef({}),h=ge(),u=ot({pageSize:h.pageSize}),F=[{id:"basic-info",title:"Basic Information",description:"Configure terminal basic settings",substeps:[{id:"device-type",title:"Device Type",description:"Select terminal model"},{id:"location",title:"Location",description:"Set terminal location"},{id:"merchant",title:"Merchant",description:"Assign to merchant"}]},{id:"network",title:"Network Configuration",description:"Configure network and connectivity",substeps:[{id:"wifi",title:"WiFi Settings",description:"Configure WiFi connection"},{id:"ethernet",title:"Ethernet",description:"Configure wired connection",isOptional:!0}]},{id:"payment",title:"Payment Settings",description:"Configure payment processing",substeps:[{id:"processor",title:"Payment Processor",description:"Select payment processor"},{id:"currencies",title:"Currencies",description:"Configure accepted currencies"},{id:"fees",title:"Fee Structure",description:"Set up fee configuration"}]},{id:"security",title:"Security & Compliance",description:"Configure security settings",substeps:[{id:"encryption",title:"Encryption",description:"Configure encryption settings"},{id:"compliance",title:"Compliance",description:"Set compliance requirements"}]},{id:"review",title:"Review & Deploy",description:"Review configuration and deploy terminal"}];l.useEffect(()=>{JSON.stringify(u.tableFilters)!==JSON.stringify(x.current)&&(x.current=u.tableFilters)},[u.tableFilters]),l.useEffect(()=>{c(void 0)},[u.statusFilter]),l.useEffect(()=>{t&&t>0&&(m(!1),n(null))},[t]);const H=l.useCallback(D=>{c(D)},[]),W=D=>{h.setPageSize(D)},J=()=>s([]),se=D=>{n(D),m(!0)},b=()=>!a||!u.terminals?-1:u.terminals.findIndex(D=>D.id===a.id),B=()=>{const D=b();D>0&&u.terminals&&n(u.terminals[D-1])},V=()=>{const D=b();D<(u.terminals?.length||0)-1&&u.terminals&&n(u.terminals[D+1])},G=()=>b()>0,j=()=>b()<(u.terminals?.length||0)-1,y=()=>{m(!1),n(null)},O=()=>{a&&(window.location.href=`/in-stores/terminals/${a.id}`)},_e=()=>{console.log("Export terminals")},Ve=()=>{N(!0),w(0)},ze=()=>{N(!1),w(0),p({deviceSelection:{deviceType:"",deviceModel:"",accessories:[],quantity:1}})},Ue=D=>{p(K=>({...K,deviceSelection:{...K.deviceSelection,...D.deviceSelection}}))},Ze=(D,K)=>{if(D==="basic-info"){if(K==="device-type")return e.jsx(be,{formData:v,updateFormData:Ue});if(K==="location")return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Terminal Location"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set the physical location for this terminal"}),e.jsx(P,{children:e.jsxs(E,{className:"space-y-4 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"store-name",children:"Store Name"}),e.jsx(R,{id:"store-name",placeholder:"Enter store name"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"terminal-id",children:"Terminal ID"}),e.jsx(R,{id:"terminal-id",placeholder:"Auto-generated",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"address",children:"Address"}),e.jsx(R,{id:"address",placeholder:"Street address"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"city",children:"City"}),e.jsx(R,{id:"city",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"state",children:"State"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select state"})}),e.jsxs(q,{children:[e.jsx(T,{value:"ca",children:"California"}),e.jsx(T,{value:"ny",children:"New York"}),e.jsx(T,{value:"tx",children:"Texas"})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"zip",children:"ZIP Code"}),e.jsx(R,{id:"zip",placeholder:"ZIP"})]})]})]})})]})})}return D==="network"&&K==="wifi"?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"WiFi Configuration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure wireless network settings"}),e.jsx(P,{children:e.jsxs(E,{className:"space-y-4 pt-6",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"ssid",children:"Network Name (SSID)"}),e.jsx(R,{id:"ssid",placeholder:"Enter WiFi network name"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"password",children:"Password"}),e.jsx(R,{id:"password",type:"password",placeholder:"Enter WiFi password"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"security",children:"Security Type"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select security type"})}),e.jsxs(q,{children:[e.jsx(T,{value:"wpa2",children:"WPA2"}),e.jsx(T,{value:"wpa3",children:"WPA3"}),e.jsx(T,{value:"open",children:"Open"})]})]})]})]})})]})}):e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:F.find(we=>we.id===D)?.title||"Select a section"}),e.jsx("p",{className:"text-gray-600",children:"Please select a section from the left sidebar to continue."})]})})},qe=u.activeFiltersCount>0?"Try adjusting your filters to see more results.":"No terminals found.",He=D=>D==="all"?u.totalItems||0:(u.facets?.status||[]).find(We=>We.value===D)?.count||0;return e.jsxs("div",{className:"flex flex-col gap-6 p-6 pb-24",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-6 w-6 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Terminals"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor payment terminals"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{variant:"outline",onClick:_e,children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(M,{onClick:Ve,disabled:f,className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Add Terminal"]})]})]}),e.jsx(ks,{filters:fe.getFilters("terminal"),selectedStatus:u.statusFilter,onStatusChange:u.setStatusFilter,getStatusCount:He,hasSelection:o.length>0,selectedCount:o.length,onClearSelection:J}),e.jsx(je,{entity:"terminals",onFiltersChange:u.setTableFilters,onClearAllFilters:u.clearAllFilters,initialValues:u.tableFilters,totalRecords:u.totalItems||0,hasSelection:o.length>0,selectedCount:o.length,onClearSelection:J,status:u.statusFilter,onColumnsChange:H,managedColumns:r,currentPageSize:h.pageSize,onPageSizeChange:W,availablePageSizes:h.availablePageSizes}),e.jsx(P,{className:"border-none shadow-none overflow-hidden rounded-none",children:e.jsx(E,{className:"p-0",children:e.jsx(Ws,{mode:"wait",children:e.jsx(Gs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(dt,{terminals:u.terminals||[],selectedTerminals:o,onSelectionChange:s,onViewTerminal:se,pagination:{pageSize:h.pageSize,currentPage:d,onPageChange:i,totalItems:u.totalItems||0,totalPages:u.totalPages||0},loading:u.isLoading,onRestartTerminal:u.restartTerminal,onConfigureTerminal:u.configureTerminal,onUpdateStatus:u.updateTerminalStatus,status:u.statusFilter,emptyStateDescription:qe,managedColumns:r})},u.statusFilter)})})}),e.jsx(it,{open:g,onOpenChange:m,terminal:a,onBack:y,onOpenFullDetails:O,totalItems:u.totalItems||0,navigatePrevious:B,navigateNext:V,canNavigatePrevious:G(),canNavigateNext:j()}),e.jsx(Ne,{isOpen:f,onClose:ze,title:"Add New Terminal",subtitle:"Configure and deploy a new payment terminal",steps:F,currentStep:C,onStepChange:w,showAutoSave:!0,autoSaveStatus:"saved",renderStepContent:Ze})]})}function ut({data:t,selectedItems:d,onSelectionChange:i,onRowClick:o,pagination:s,loading:r,statusFilter:c,emptyStateDescription:a,managedColumns:n,onView:g,onActivate:m,onReturn:f,activeItemId:N}){const C=x=>{const h={active:"default",inactive:"secondary",pending:"outline"};return e.jsx(S,{variant:h[x]||"secondary",children:x.charAt(0).toUpperCase()+x.slice(1)})},w=l.useMemo(()=>[{key:"model",header:"Model",render:x=>e.jsx("div",{className:"font-medium",children:x.model})},{key:"serialNumber",header:"Serial Number",render:x=>e.jsx("div",{className:"font-mono text-sm",children:x.serialNumber})},{key:"store",header:"Store",render:x=>x.store},{key:"order",header:"Order",render:x=>e.jsx("div",{className:"font-mono text-sm",children:x.order})},{key:"ordered",header:"Ordered",render:x=>new Date(x.ordered).toLocaleDateString()},{key:"fulfilled",header:"Fulfilled",render:x=>new Date(x.fulfilled).toLocaleDateString()},{key:"status",header:"Status",render:x=>C(x.status)}],[]),v=l.useMemo(()=>t.filter(x=>["inactive"].includes(x.status)).map(x=>x.id),[t]),p=l.useMemo(()=>{const x=[];return g&&x.push({key:"view",label:"View",onClick:g}),m&&x.push({key:"activate",label:"Activate",onClick:m}),f&&x.push({key:"return",label:"Return",onClick:f}),x},[g,m,f]);return e.jsx(pe,{data:t,columns:w,selectedItems:d,onSelectionChange:i,getItemId:x=>x.id,onRowClick:o,rowActions:p,pagination:s,loading:r,unavailableItems:v,emptyStateDescription:a,className:"bg-background",getItemStatus:x=>x.status||"unknown",activeItemId:N})}function xt(t){return{id:t.id,model:t.model,serialNumber:t.serialNumber,store:t.store,location:t.location,status:t.status,order:t.order,ordered:t.ordered,fulfilled:t.fulfilled,lastActivity:t.lastActivity,firmwareVersion:t.firmwareVersion,batteryLevel:t.batteryLevel,connectionStatus:t.connectionStatus}}function ht(t={}){const[d]=l.useState({header:!0,cards:!0,activity:!0,hardware:!0,location:!0,maintenance:!0,configuration:!0,eventsLogs:!0,...t});return d}const pt=({inventoryData:t,isExpanded:d=!0,onToggle:i,isDetailView:o=!1})=>{const s={serialNumber:t?.serialNumber||"CLV-2024-001",model:t?.model||"Clover Station Pro",status:t?.status||"active",location:t?.location||"Downtown Store - Register 1",lastSeen:t?.lastSeen||"2024-01-29T16:45:00Z",assignedTo:t?.assignedTo||"John Smith",installDate:t?.installDate||"2024-01-15T09:00:00Z",firmwareVersion:t?.firmwareVersion||"2.1.4",batteryLevel:t?.batteryLevel||85},r=a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},c=a=>new Date(a).toLocaleString();return e.jsxs(P,{className:"mb-4",children:[e.jsx($,{className:`cursor-pointer ${o?"":"hover:bg-muted/50"}`,onClick:o?void 0:i,children:e.jsxs(L,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Terminal Overview"]}),e.jsx(S,{className:r(s.status),children:s.status})]})}),d&&e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Serial Number:"}),e.jsx("p",{className:"font-medium font-mono",children:s.serialNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Model:"}),e.jsx("p",{className:"font-medium",children:s.model})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Firmware:"}),e.jsxs("p",{className:"font-medium",children:["v",s.firmwareVersion]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Battery:"}),e.jsxs("p",{className:"font-medium",children:[s.batteryLevel,"%"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Location:"}),e.jsx("span",{className:"font-medium",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Assigned to:"}),e.jsx("span",{className:"font-medium",children:s.assignedTo})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Installed:"}),e.jsx("span",{className:"font-medium",children:c(s.installDate)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Last seen:"}),e.jsx("span",{className:"font-medium",children:c(s.lastSeen)})]})]})]})]})},gt=({inventoryData:t,isExpanded:d=!0,onToggle:i,isDetailView:o=!1})=>{const s=[{id:"act_001",timestamp:"2024-01-29T16:45:00Z",type:"transaction",description:"Payment processed successfully",amount:"$45.67",status:"success",icon:Ce},{id:"act_002",timestamp:"2024-01-29T14:30:00Z",type:"system",description:"Terminal restarted",status:"info",icon:Te},{id:"act_003",timestamp:"2024-01-29T12:15:00Z",type:"transaction",description:"Payment processed successfully",amount:"$23.45",status:"success",icon:Ce},{id:"act_004",timestamp:"2024-01-29T10:20:00Z",type:"error",description:"Connection timeout - retrying",status:"warning",icon:Ds},{id:"act_005",timestamp:"2024-01-29T08:30:00Z",type:"system",description:"Terminal activated",status:"success",icon:Te}],r=a=>{switch(a){case"success":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";case"info":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},c=a=>new Date(a).toLocaleString();return e.jsxs(P,{className:"mb-4",children:[e.jsx($,{className:`cursor-pointer ${o?"":"hover:bg-muted/50"}`,onClick:o?void 0:i,children:e.jsxs(L,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Recent Activity"]}),!o&&e.jsx(S,{variant:"secondary",className:"ml-2",children:s.length})]})}),d&&e.jsxs(E,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:s.map(a=>{const n=a.icon;return e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:`p-2 rounded-full ${r(a.status)}`,children:e.jsx(n,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:a.description}),a.amount&&e.jsx("span",{className:"text-sm font-semibold text-green-600",children:a.amount})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c(a.timestamp)})]})]},a.id)})}),e.jsx("div",{className:"pt-2 border-t",children:e.jsx("button",{className:"text-sm text-primary hover:underline",children:"View all activity →"})})]})]})},ft=({inventoryData:t,isExpanded:d=!0,onToggle:i,isDetailView:o=!1})=>{const s={processor:{model:"ARM Cortex-A72",cores:4,frequency:"1.5 GHz",temperature:42,usage:23},memory:{total:"4 GB",used:"1.2 GB",usage:30},storage:{total:"32 GB",used:"8.5 GB",usage:27},battery:{level:t?.batteryLevel||85,status:"charging",health:"good",cycles:342},connectivity:{wifi:{status:"connected",ssid:"Store_Network_5G",signal:-45,speed:"150 Mbps"},cellular:{status:"connected",carrier:"Verizon",signal:-78,type:"4G LTE"}},sensors:{accelerometer:"active",gyroscope:"active",magnetometer:"active",proximity:"active"}},r=a=>a>=-50?{strength:"excellent",color:"text-green-600"}:a>=-60?{strength:"good",color:"text-green-500"}:a>=-70?{strength:"fair",color:"text-yellow-500"}:{strength:"poor",color:"text-red-500"},c=a=>a>=80?"text-green-600":a>=50?"text-yellow-600":a>=20?"text-orange-600":"text-red-600";return e.jsxs(P,{className:"mb-4",children:[e.jsx($,{className:`cursor-pointer ${o?"":"hover:bg-muted/50"}`,onClick:o?void 0:i,children:e.jsxs(L,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Hardware Status"]}),e.jsx(S,{variant:"secondary",className:"ml-2",children:"Online"})]})}),d&&e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"Processor"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Model:"}),e.jsx("p",{className:"font-medium",children:s.processor.model})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cores:"}),e.jsxs("p",{className:"font-medium",children:[s.processor.cores," cores @ ",s.processor.frequency]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Temperature:"}),e.jsxs("p",{className:"font-medium flex items-center gap-1",children:[e.jsx(Ys,{className:"h-3 w-3"}),s.processor.temperature,"°C"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Usage:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{value:s.processor.usage,className:"flex-1"}),e.jsxs("span",{className:"text-xs",children:[s.processor.usage,"%"]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Fs,{className:"h-4 w-4"}),"Memory & Storage"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{children:["Memory (",s.memory.used," / ",s.memory.total,")"]}),e.jsxs("span",{children:[s.memory.usage,"%"]})]}),e.jsx(re,{value:s.memory.usage})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{children:["Storage (",s.storage.used," / ",s.storage.total,")"]}),e.jsxs("span",{children:[s.storage.usage,"%"]})]}),e.jsx(re,{value:s.storage.usage})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Battery"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Level:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{value:s.battery.level,className:"flex-1"}),e.jsxs("span",{className:`font-medium ${c(s.battery.level)}`,children:[s.battery.level,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx("p",{className:"font-medium capitalize",children:s.battery.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Health:"}),e.jsx(S,{variant:"secondary",className:"capitalize",children:s.battery.health})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cycles:"}),e.jsx("p",{className:"font-medium",children:s.battery.cycles})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"Connectivity"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:"Wi-Fi"}),e.jsx(S,{variant:"secondary",className:"capitalize",children:s.connectivity.wifi.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[e.jsxs("div",{children:["SSID: ",s.connectivity.wifi.ssid]}),e.jsxs("div",{children:["Speed: ",s.connectivity.wifi.speed]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"h-3 w-3"}),"Signal: ",r(s.connectivity.wifi.signal).strength]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:"Cellular"}),e.jsx(S,{variant:"secondary",className:"capitalize",children:s.connectivity.cellular.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[e.jsxs("div",{children:["Carrier: ",s.connectivity.cellular.carrier]}),e.jsxs("div",{children:["Type: ",s.connectivity.cellular.type]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"h-3 w-3"}),"Signal: ",r(s.connectivity.cellular.signal).strength]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Sensors"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(s.sensors).map(([a,n])=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[e.jsx("span",{className:"text-sm capitalize",children:a}),e.jsx(S,{variant:n==="active"?"default":"secondary",className:"text-xs",children:n})]},a))})]})]})]})},jt=({inventoryData:t,isExpanded:d=!0,onToggle:i,isDetailView:o=!1})=>{const s={firmware:{version:t?.firmwareVersion||"2.1.4",lastUpdate:"2024-01-15T10:30:00Z",updateAvailable:!1},security:{encryption:"AES-256",certificates:{ssl:{expires:"2024-12-31"},payment:{expires:"2024-11-15"}},vulnerabilities:0},network:{ipAddress:"192.168.1.45",gateway:"192.168.1.1",dns:["8.8.8.8","8.8.4.4"]},payment:{processors:["Visa","Mastercard","Amex","Discover"]},display:{brightness:80,timeout:300,orientation:"portrait"},audio:{volume:65,language:"en-US"}},r=c=>new Date(c).toLocaleDateString();return e.jsxs(P,{className:"mb-4",children:[e.jsx($,{className:`cursor-pointer ${o?"":"hover:bg-muted/50"}`,onClick:o?void 0:i,children:e.jsxs(L,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Configuration"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"secondary",children:["v",s.firmware.version]}),s.firmware.updateAvailable]})]})}),d&&e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Firmware"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Current Version:"}),e.jsx("p",{className:"font-medium",children:s.firmware.version})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Update:"}),e.jsx("p",{className:"font-medium",children:r(s.firmware.lastUpdate)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Auto Update:"}),e.jsx(S,{variant:"default",children:"Enabled"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(M,{size:"sm",variant:"outline",children:"Check for Updates"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4"}),"Security"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Encryption:"}),e.jsx("p",{className:"font-medium",children:s.security.encryption})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Vulnerabilities:"}),e.jsxs(S,{variant:"default",children:[s.security.vulnerabilities," found"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Certificates:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-2 rounded border",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium",children:"SSL Certificate"}),e.jsx(S,{variant:"default",className:"text-xs",children:"Valid"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Expires: ",r(s.security.certificates.ssl.expires)]})]}),e.jsxs("div",{className:"p-2 rounded border",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium",children:"Payment Certificate"}),e.jsx(S,{variant:"default",className:"text-xs",children:"Valid"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Expires: ",r(s.security.certificates.payment.expires)]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"Network"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"IP Address:"}),e.jsx("p",{className:"font-medium font-mono",children:s.network.ipAddress})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Gateway:"}),e.jsx("p",{className:"font-medium font-mono",children:s.network.gateway})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"DHCP:"}),e.jsx(S,{variant:"default",children:"Enabled"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"DNS Servers:"}),e.jsx("p",{className:"font-medium font-mono text-xs",children:s.network.dns.join(", ")})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Payment Configuration"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Supported Cards:"}),e.jsx("div",{className:"flex gap-2 mt-1",children:s.payment.processors.map(c=>e.jsx(S,{variant:"outline",className:"text-xs",children:c},c))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[e.jsx("span",{className:"text-sm",children:"Contactless"}),e.jsx(S,{variant:"default",className:"text-xs",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[e.jsx("span",{className:"text-sm",children:"Chip Reader"}),e.jsx(S,{variant:"default",className:"text-xs",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[e.jsx("span",{className:"text-sm",children:"PIN Pad"}),e.jsx(S,{variant:"default",className:"text-xs",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[e.jsx("span",{className:"text-sm",children:"Receipt Printer"}),e.jsx(S,{variant:"default",className:"text-xs",children:"Enabled"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Xs,{className:"h-4 w-4"}),"Display"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Brightness:"}),e.jsxs("span",{className:"font-medium",children:[s.display.brightness,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Timeout:"}),e.jsxs("span",{className:"font-medium",children:[s.display.timeout,"s"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Orientation:"}),e.jsx("span",{className:"font-medium capitalize",children:s.display.orientation})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Js,{className:"h-4 w-4"}),"Audio"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Volume:"}),e.jsxs("span",{className:"font-medium",children:[s.audio.volume,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Language:"}),e.jsx("span",{className:"font-medium",children:s.audio.language})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Voice Prompts:"}),e.jsx(S,{variant:"default",className:"text-xs",children:"On"})]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",children:"Export Config"}),e.jsx(M,{size:"sm",variant:"outline",children:"Reset to Defaults"})]})]})]})},vt=({inventoryData:t,isExpanded:d=!0,onToggle:i,isDetailView:o=!1})=>{const s={currentOrder:{id:"ORD-2024-001234",status:"processing",items:[{id:"item_001",name:"Clover Station Pro",quantity:2,unitPrice:1299.99,total:2599.98},{id:"item_002",name:"Receipt Paper Rolls (50 pack)",quantity:1,unitPrice:89.99,total:89.99}],subtotal:2689.97,tax:215.2,shipping:25,total:2930.17,orderDate:"2024-01-25T14:30:00Z",estimatedDelivery:"2024-02-02T00:00:00Z",shippingAddress:{name:"Downtown Electronics Store",street:"123 Main Street",city:"New York",state:"NY",zip:"10001"},trackingNumber:"TRK789456123"},recentOrders:[{id:"ORD-2024-001233",status:"delivered",total:1599.99,orderDate:"2024-01-15T10:15:00Z",deliveryDate:"2024-01-22T16:45:00Z"},{id:"ORD-2024-001232",status:"delivered",total:899.5,orderDate:"2024-01-08T09:30:00Z",deliveryDate:"2024-01-15T14:20:00Z"},{id:"ORD-2024-001231",status:"cancelled",total:2199.99,orderDate:"2024-01-03T11:45:00Z",cancelDate:"2024-01-04T08:30:00Z"}],orderHistory:{totalOrders:47,totalSpent:89567.43,averageOrderValue:1905.05,lastOrderDate:"2024-01-25T14:30:00Z"}},r=n=>{switch(n){case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=n=>new Date(n).toLocaleDateString(),a=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n);return e.jsxs(P,{className:"mb-4",children:[e.jsx($,{className:`cursor-pointer ${o?"":"hover:bg-muted/50"}`,onClick:o?void 0:i,children:e.jsxs(L,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(As,{className:"h-5 w-5"}),"Orders"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"secondary",children:[s.orderHistory.totalOrders," total"]}),e.jsx(S,{className:r(s.currentOrder.status),children:s.currentOrder.status})]})]})}),d&&e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Current Order"]}),e.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.currentOrder.id}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ordered: ",c(s.currentOrder.orderDate)]})]}),e.jsx(S,{className:r(s.currentOrder.status),children:s.currentOrder.status})]}),e.jsx("div",{className:"space-y-2 mb-4",children:s.currentOrder.items.map(n=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:n.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",n.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:a(n.total)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a(n.unitPrice)," each"]})]})]},n.id))}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:a(s.currentOrder.subtotal)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax:"}),e.jsx("span",{children:a(s.currentOrder.tax)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shipping:"}),e.jsx("span",{children:a(s.currentOrder.shipping)})]}),e.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:a(s.currentOrder.total)})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsxs("span",{children:["Estimated delivery: ",c(s.currentOrder.estimatedDelivery)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm mt-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tracking:"}),e.jsx("span",{className:"font-mono",children:s.currentOrder.trackingNumber})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",children:"Track Order"}),e.jsx(M,{size:"sm",variant:"outline",children:"View Details"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),"Shipping Address"]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card text-sm",children:[e.jsx("p",{className:"font-medium",children:s.currentOrder.shippingAddress.name}),e.jsx("p",{children:s.currentOrder.shippingAddress.street}),e.jsxs("p",{children:[s.currentOrder.shippingAddress.city,", ",s.currentOrder.shippingAddress.state," ",s.currentOrder.shippingAddress.zip]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),"Recent Orders"]}),e.jsx("div",{className:"space-y-2",children:s.recentOrders.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:n.id}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c(n.orderDate),n.deliveryDate&&` • Delivered ${c(n.deliveryDate)}`,n.cancelDate&&` • Cancelled ${c(n.cancelDate)}`]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium",children:a(n.total)}),e.jsx(S,{className:r(n.status),children:n.status})]})]},n.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"Order History"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg border bg-card text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:s.orderHistory.totalOrders}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:a(s.orderHistory.totalSpent)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:a(s.orderHistory.averageOrderValue)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Order"})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:c(s.orderHistory.lastOrderDate)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Order"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t flex gap-2",children:[e.jsx(M,{size:"sm",children:"Place New Order"}),e.jsx(M,{size:"sm",variant:"outline",children:"View All Orders"})]})]})]})},yt=()=>de.createElement("div",null,"Cards Section"),Nt=()=>de.createElement("div",null,"Location Section"),bt=()=>de.createElement("div",null,"Maintenance Section"),wt=()=>de.createElement("div",null,"Events & Logs Section"),St=[{key:"header",component:pt,alwaysExpanded:!0,supportsExpansion:!1},{key:"cards",component:yt,alwaysExpanded:!0,supportsExpansion:!1},{key:"activity",component:gt,supportsExpansion:!0},{key:"hardware",component:ft,supportsExpansion:!0},{key:"location",component:Nt,supportsExpansion:!0},{key:"maintenance",component:bt,supportsExpansion:!0},{key:"configuration",component:jt,supportsExpansion:!0},{key:"order",component:vt,supportsExpansion:!0},{key:"eventsLogs",component:wt,alwaysExpanded:!0,supportsExpansion:!1}],Ct=St;function Tt({sections:t,isDetailView:d=!1,inventoryData:i}){return Ct.map(({key:o,component:s,supportsExpansion:r,props:c={}})=>{const a={...c};return i&&(a.inventoryData=i),d?(r&&(a.isExpanded=!0,a.onToggle=()=>{}),a.isDetailView=!0):r&&(a.isExpanded=t.isExpanded(o),a.onToggle=()=>t.toggleSection(o)),e.jsx(s,{...a},o)})}function kt({open:t,onOpenChange:d,inventory:i,onBack:o,onOpenFullDetails:s,totalItems:r,navigatePrevious:c,navigateNext:a,canNavigatePrevious:n,canNavigateNext:g}){ht({activity:!0,hardware:!0,location:!0,maintenance:!0,configuration:!0});const m={isExpanded:()=>!0,toggleSection:()=>{}};return i?e.jsx(ee,{id:"inventory-details",open:t,children:e.jsx("div",{className:"h-full flex flex-col bg-muted",children:e.jsxs(xe,{ariaLabel:"Inventory details content",children:[e.jsx(he,{entityInfo:xt(i),config:Ms,metadataComponent:Es,actionsComponent:Ps,onBack:o??(()=>d(!1)),currentEntityId:i.id,onOpenFullDetails:s,totalItems:r,navigatePrevious:c,navigateNext:a,canNavigatePrevious:n,canNavigateNext:g}),Tt({sections:m,inventoryData:i})]})})}):e.jsx(ee,{id:"inventory-details",open:t,children:e.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No inventory item selected"})})}function Dt(){const[t,d]=l.useState("all"),[i,o]=l.useState("all"),[s,r]=l.useState("all"),[c,a]=l.useState(""),[n,g]=l.useState({from:null,to:null}),m={status:t,model:i,store:s,ordered:"",search:c,dateRange:n},f=l.useCallback(h=>{d(h)},[]),N=l.useCallback(h=>{o(h)},[]),C=l.useCallback(h=>{r(h)},[]),w=l.useCallback(h=>{a(h)},[]),v=l.useCallback(h=>{g(h)},[]),p=l.useCallback(()=>{d("all"),o("all"),r("all"),a(""),g({from:null,to:null})},[]),x=l.useCallback((h,u,F)=>h==="all"?F:0,[]);return{filters:m,statusFilter:t,setStatusFilter:f,modelFilter:i,storeFilter:s,searchQuery:c,dateRange:n,updateStatusFilter:f,updateModelFilter:N,updateStoreFilter:C,updateSearchQuery:w,updateDateRange:v,clearFilters:p,getStatusCount:x,tableFilters:{},setTableFilters:()=>{},clearAllFilters:p,activeFiltersCount:0}}function Ft(){const t=ce(),d=l.useCallback(m=>{t(`/in-stores/inventory/${m.id}`)},[t]),i=l.useCallback(m=>{navigator.clipboard.writeText(m),A.success("Inventory ID copied to clipboard")},[]),o=l.useCallback(m=>{m?(console.log("Activating terminal:",m),A.success("Terminal activated")):(console.log("Activate Terminal action"),A.success("Terminal activation initiated"))},[]),s=l.useCallback(m=>{m?(console.log("Returning terminal:",m),A.success("Terminal return initiated")):(console.log("Return Terminal action"),A.success("Terminal return process started"))},[]),r=l.useCallback(()=>{t("/in-stores/order")},[t]),c=l.useCallback(m=>{console.log("Exporting inventory items:",m),A.success(`Exported ${m.length} inventory items`)},[]),a=l.useCallback(m=>{console.log("Activating inventory items:",m),A.success(`Activated ${m.length} terminals`)},[]),n=l.useCallback(m=>{console.log("Deactivating inventory items:",m),A.success(`Deactivated ${m.length} terminals`)},[]),g=l.useCallback(m=>{console.log("Returning inventory items:",m),A.success(`Initiated return for ${m.length} terminals`)},[]);return{handleView:d,copyInventoryId:i,handleActivateTerminal:o,handleReturnTerminal:s,handleOrderTerminal:r,handleBatchExport:c,handleBatchActivate:a,handleBatchDeactivate:n,handleBatchReturn:g}}function Ot(){const[t,d]=l.useState("all"),[i,o]=l.useState("all"),[s,r]=l.useState("all"),[c,a]=l.useState(""),[n,g]=l.useState({from:null,to:null}),m={status:t,priority:i,store:s,orderDate:"",search:c,dateRange:n},f=l.useCallback(h=>{d(h)},[]),N=l.useCallback(h=>{o(h)},[]),C=l.useCallback(h=>{r(h)},[]),w=l.useCallback(h=>{a(h)},[]),v=l.useCallback(h=>{g(h)},[]),p=l.useCallback(()=>{d("all"),o("all"),r("all"),a(""),g({from:null,to:null})},[]),x=l.useCallback((h,u,F)=>h==="all"?F:0,[]);return{filters:m,statusFilter:t,setStatusFilter:f,priorityFilter:i,storeFilter:s,searchQuery:c,dateRange:n,updateStatusFilter:f,updatePriorityFilter:N,updateStoreFilter:C,updateSearchQuery:w,updateDateRange:v,clearFilters:p,getStatusCount:x,tableFilters:{},setTableFilters:()=>{},clearAllFilters:p,activeFiltersCount:0}}function At(){const t=ce(),d=l.useCallback(m=>{t(`/in-stores/orders/${m.id}`)},[t]),i=l.useCallback(m=>{navigator.clipboard.writeText(m),A.success("Order ID copied to clipboard")},[]),o=l.useCallback(m=>{m?(console.log("Cancelling order:",m),A.success("Order cancelled")):(console.log("Cancel Order action"),A.success("Order cancellation initiated"))},[]),s=l.useCallback(m=>{m?(console.log("Returning order:",m),A.success("Order return initiated")):(console.log("Return Order action"),A.success("Order return process started"))},[]),r=l.useCallback(()=>{t("/in-stores/order")},[t]),c=l.useCallback(m=>{console.log("Exporting orders:",m),A.success(`Exported ${m.length} orders`)},[]),a=l.useCallback(m=>{console.log("Cancelling orders:",m),A.success(`Cancelled ${m.length} orders`)},[]),n=l.useCallback(m=>{console.log("Returning orders:",m),A.success(`Initiated return for ${m.length} orders`)},[]),g=l.useCallback(m=>{console.log("Fulfilling orders:",m),A.success(`Fulfilled ${m.length} orders`)},[]);return{handleView:d,copyOrderId:i,handleCancelOrder:o,handleReturnOrder:s,handleOrderTerminal:r,handleBatchExport:c,handleBatchCancel:a,handleBatchReturn:n,handleBatchFulfill:g}}const Pt=[{id:"inv_001",transactionRef:"txn_inv_001_ref",model:"Terminal Pro X1",serialNumber:"TPX1-2024-001",store:"Downtown Store",order:"ORD-2024-001",ordered:"2024-01-15T10:00:00Z",fulfilled:"2024-01-20T14:30:00Z",status:"active",location:"Counter 1",lastActivity:"2024-01-28T16:45:00Z",firmwareVersion:"2.1.4",batteryLevel:85,connectionStatus:"online"},{id:"inv_002",transactionRef:"txn_inv_002_ref",model:"Terminal Lite V2",serialNumber:"TLV2-2024-002",store:"Mall Location",order:"ORD-2024-002",ordered:"2024-01-16T09:30:00Z",fulfilled:"2024-01-22T11:15:00Z",status:"inactive",location:"Storage",lastActivity:"2024-01-25T12:20:00Z",firmwareVersion:"1.8.2",batteryLevel:45,connectionStatus:"offline"},{id:"inv_003",transactionRef:"txn_inv_003_ref",model:"Terminal Pro X1",serialNumber:"TPX1-2024-003",store:"Airport Branch",order:"ORD-2024-003",ordered:"2024-01-18T14:20:00Z",fulfilled:"2024-01-24T10:45:00Z",status:"active",location:"Gate A12",lastActivity:"2024-01-29T08:30:00Z",firmwareVersion:"2.1.4",batteryLevel:92,connectionStatus:"online"},{id:"inv_004",transactionRef:"txn_inv_004_ref",model:"Terminal Compact",serialNumber:"TC-2024-004",store:"Food Court",order:"ORD-2024-004",ordered:"2024-01-20T11:00:00Z",fulfilled:"2024-01-26T15:20:00Z",status:"pending",location:"Kiosk 3",lastActivity:"2024-01-28T19:15:00Z",firmwareVersion:"1.5.1",batteryLevel:67,connectionStatus:"online"}],Et={async getInventoryForNavigation(t){await new Promise(i=>setTimeout(i,500));let d=[...Pt];if(t?.status&&t.status!=="all"&&(d=d.filter(i=>i.status===t.status)),t?.model&&t.model!=="all"&&(d=d.filter(i=>i.model===t.model)),t?.store&&t.store!=="all"&&(d=d.filter(i=>i.store===t.store)),t?.search){const i=t.search.toLowerCase();d=d.filter(o=>o.model.toLowerCase().includes(i)||o.serialNumber.toLowerCase().includes(i)||o.store.toLowerCase().includes(i))}return{data:d,total:d.length,page:1,pageSize:50}}};function Mt({closePanelsTrigger:t}){const[d,i]=l.useState(!1),[o,s]=l.useState(0),[r,c]=l.useState({deviceSelection:{deviceType:"",deviceModel:"",accessories:[],quantity:1}}),a=Dt(),n=Ft(),g=ge(),m=Le({batchActions:{activate:n.handleBatchActivate,deactivate:n.handleBatchDeactivate,export:n.handleBatchExport,return:n.handleBatchReturn}}),f=[{id:"basic-info",title:"Basic Information",description:"Configure terminal details",substeps:[{id:"device-type",title:"Device Type",description:"Select terminal model and accessories"},{id:"location",title:"Location",description:"Set terminal location details"}]},{id:"configuration",title:"Configuration",description:"Set up terminal settings",substeps:[{id:"network",title:"Network",description:"Configure network settings"},{id:"payment",title:"Payment",description:"Set up payment processing"}]},{id:"review",title:"Review & Order",description:"Review and place your order"}],N=()=>{i(!0),s(0)},C=()=>{i(!1),s(0),c({deviceSelection:{deviceType:"",deviceModel:"",accessories:[],quantity:1}})},w=p=>{c(x=>({...x,deviceSelection:{...x.deviceSelection,...p.deviceSelection}}))},v=(p,x)=>{if(p==="basic-info"){if(x==="device-type")return e.jsx(be,{formData:r,updateFormData:w});if(x==="location")return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Terminal Location"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set the physical location for this terminal"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"store-name",children:"Store Name"}),e.jsx(R,{id:"store-name",placeholder:"Enter store name"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"terminal-id",children:"Terminal ID"}),e.jsx(R,{id:"terminal-id",placeholder:"Auto-generated",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"location",children:"Location within Store"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select location"})}),e.jsxs(q,{children:[e.jsx(T,{value:"counter",children:"Main Counter"}),e.jsx(T,{value:"entrance",children:"Store Entrance"}),e.jsx(T,{value:"checkout",children:"Checkout Area"}),e.jsx(T,{value:"customer-service",children:"Customer Service"})]})]})]})]})]})})}if(p==="configuration"){if(x==="network")return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Network Configuration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure network and connectivity settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"connection-type",children:"Connection Type"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select connection type"})}),e.jsxs(q,{children:[e.jsx(T,{value:"ethernet",children:"Ethernet"}),e.jsx(T,{value:"wifi",children:"Wi-Fi"}),e.jsx(T,{value:"cellular",children:"Cellular"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"ip-address",children:"IP Address"}),e.jsx(R,{id:"ip-address",placeholder:"Auto-assign"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"subnet",children:"Subnet Mask"}),e.jsx(R,{id:"subnet",placeholder:"255.255.255.0"})]})]})]})]})});if(x==="payment")return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Payment Configuration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set up payment processing options"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"merchant-id",children:"Merchant ID"}),e.jsx(R,{id:"merchant-id",placeholder:"Enter merchant ID"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"payment-processor",children:"Payment Processor"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select processor"})}),e.jsxs(q,{children:[e.jsx(T,{value:"stripe",children:"Stripe"}),e.jsx(T,{value:"square",children:"Square"}),e.jsx(T,{value:"paypal",children:"PayPal"})]})]})]})]})]})})}return p==="review"?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Review Your Order"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please review your terminal order details"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Device:"}),e.jsx("span",{children:r.deviceSelection.deviceModel||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quantity:"}),e.jsx("span",{children:r.deviceSelection.quantity})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accessories:"}),e.jsx("span",{children:r.deviceSelection.accessories.length||"None"})]})]})]})]})}):e.jsx("div",{className:"p-8",children:"Step content not implemented"})};return e.jsxs("div",{className:"flex flex-col gap-6 p-6 pb-24",children:[e.jsx(Be,{fetchData:Et.getInventoryForNavigation,pageConfig:{header:{title:"Terminal Inventory",description:"Manage and monitor your terminal inventory",primaryAction:{label:"Order Terminal",icon:e.jsx(Y,{className:"h-4 w-4"}),onClick:N}},statusFilters:fe.getFilters("inventory"),table:{component:ut,props:{onView:n.handleView,onActivate:n.handleActivateTerminal,onReturn:n.handleReturnTerminal}},tableFilters:{component:je,props:{entity:"inventory",onBulkAction:m.handleBulkAction}}},useFilters:()=>a,useSelection:()=>m,usePageSize:()=>g,animationKey:a.statusFilter,basePath:"/in-stores/inventory",renderPanel:p=>e.jsx(kt,{open:p.open,onOpenChange:p.onOpenChange,inventory:p.entity,onBack:p.onBack,onOpenFullDetails:p.onOpenFullDetails,totalItems:p.totalItems,navigatePrevious:p.navigatePrevious,navigateNext:p.navigateNext,canNavigatePrevious:p.canNavigatePrevious,canNavigateNext:p.canNavigateNext})}),e.jsx(Ne,{isOpen:d,onClose:C,steps:f,currentStep:o,onStepChange:s,renderStepContent:v,title:"Order Terminal",subtitle:"Configure and order a new terminal for your location"})]})}function It({data:t,selectedItems:d,onSelectionChange:i,onRowClick:o,pagination:s,loading:r,statusFilter:c,emptyStateDescription:a,managedColumns:n,onView:g,onCancel:m,onReturn:f}){const N=h=>{g?g(h):o(h)},C=h=>{m&&m(h.id)},w=h=>{f&&f(h.id)},v=h=>{const u={pending:"outline",fulfilled:"default",returned:"secondary",cancelled:"destructive"};return e.jsx(S,{variant:u[h]||"secondary",children:h.charAt(0).toUpperCase()+h.slice(1)})},p=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),x=[{key:"orderId",header:"Order ID",render:h=>e.jsx("div",{className:"font-mono text-sm",children:h.orderId})},{key:"description",header:"Description",render:h=>e.jsx("div",{className:"max-w-xs truncate",children:h.description})},{key:"itemCount",header:"Items",render:h=>e.jsx("div",{className:"text-center",children:h.itemCount})},{key:"totalAmount",header:"Amount",render:h=>e.jsx("div",{className:"font-medium",children:p(h.totalAmount)})},{key:"orderDate",header:"Created",render:h=>new Date(h.orderDate).toLocaleDateString()},{key:"expectedDelivery",header:"Expected Delivery",render:h=>new Date(h.expectedDelivery).toLocaleDateString()},{key:"status",header:"Status",render:h=>v(h.status)},{key:"actions",header:"",render:h=>e.jsxs(Is,{children:[e.jsx(Rs,{asChild:!0,children:e.jsxs(M,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx($s,{className:"h-4 w-4"})]})}),e.jsxs(Ls,{align:"end",children:[e.jsxs(oe,{onClick:()=>N(h),children:[e.jsx(Bs,{className:"h-4 w-4 mr-2"}),"View"]}),h.status==="pending"&&m&&e.jsxs(oe,{onClick:()=>C(h),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Cancel"]}),h.status==="fulfilled"&&f&&e.jsxs(oe,{onClick:()=>w(h),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Return"]})]})]})}];return e.jsx(pe,{columns:x,data:t,selectedItems:d,onSelectionChange:i,onRowClick:o,getItemId:h=>h.id,pagination:s,loading:r,emptyStateDescription:a})}function Rt(t){return{id:t.id,orderId:t.orderId,description:t.description,status:t.status,totalAmount:t.totalAmount,itemCount:t.itemCount,orderDate:t.orderDate,expectedDelivery:t.expectedDelivery,priority:t.priority,store:t.store,customer:t.customer,lastUpdated:t.lastUpdated,trackingNumber:t.trackingNumber,paymentStatus:t.paymentStatus}}function $t({orderData:t=null,isExpanded:d=!0,onToggle:i,isDetailView:o=!1}){const s={orderId:t?.orderId||"ORD-2024-001",description:t?.description||"2x Terminal Pro X1 for Downtown Store",status:t?.status||"fulfilled",totalAmount:t?.amount||1299.98,itemCount:t?.items||2,orderDate:t?.created||"2024-01-15",expectedDelivery:t?.expectedDelivery||"2024-01-25",priority:t?.priority||"high"},r=a=>{switch(a){case"fulfilled":return"default";case"pending":return"secondary";case"returned":return"destructive";case"cancelled":return"outline";default:return"secondary"}},c=a=>{switch(a){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Order Information"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Order ID"}),e.jsx("span",{className:"text-sm font-medium",children:s.orderId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(S,{variant:r(s.status),children:s.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Priority"}),e.jsx(S,{variant:c(s.priority),children:s.priority})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Items"}),e.jsx("span",{className:"text-sm font-medium",children:s.itemCount})]})]})})]}),e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"Financial Details"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Amount"}),e.jsxs("span",{className:"text-sm font-medium",children:["$",s.totalAmount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Tax"}),e.jsxs("span",{className:"text-sm font-medium",children:["$",(s.totalAmount*.08).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Shipping"}),e.jsx("span",{className:"text-sm font-medium",children:"$25.00"})]}),e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{className:"text-sm",children:"Grand Total"}),e.jsxs("span",{className:"text-sm",children:["$",(s.totalAmount+s.totalAmount*.08+25).toFixed(2)]})]})]})})]})]}),e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),"Timeline"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Order Date"}),e.jsx("span",{className:"text-sm font-medium",children:s.orderDate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),e.jsx("span",{className:"text-sm font-medium",children:s.expectedDelivery})]})]})})]}),e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Description"]})}),e.jsx(E,{children:e.jsx("p",{className:"text-sm",children:s.description})})]})]})}function Lt({orderData:t=null,isExpanded:d=!0,onToggle:i,isDetailView:o=!1}){const s=[{id:"act_001",timestamp:"2024-01-20 14:30:00",action:"Order Fulfilled",description:"Order has been fulfilled and shipped to destination",user:"System",status:"completed",icon:ie},{id:"act_002",timestamp:"2024-01-18 09:15:00",action:"Payment Processed",description:"Payment of $1,299.98 has been successfully processed",user:"Payment Gateway",status:"completed",icon:ie},{id:"act_003",timestamp:"2024-01-17 16:45:00",action:"Order Confirmed",description:"Order has been confirmed and is being prepared",user:"John Smith",status:"completed",icon:ie},{id:"act_004",timestamp:"2024-01-15 11:20:00",action:"Order Placed",description:"Order has been placed and is awaiting confirmation",user:"Customer Portal",status:"completed",icon:Y}],r=a=>{switch(a){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";default:return"secondary"}},c=a=>{const n=new Date(a);return{date:n.toLocaleDateString(),time:n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Recent Activity"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:s.map((a,n)=>{const{date:g,time:m}=c(a.timestamp),f=a.icon;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(f,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:a.action}),e.jsx(S,{variant:r(a.status),className:"ml-2",children:a.status})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"h-3 w-3"}),a.user]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),g," at ",m]})]})]})]},a.id)})})})]}),e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsx(L,{className:"text-sm font-medium",children:"Activity Summary"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"4"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed Actions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Actions"})]})]})})]})]})}function Bt({orderData:t=null,isExpanded:d=!0,onToggle:i,isDetailView:o=!1}){const s={items:[{id:"item_001",name:"Terminal Pro X1",sku:"TPX1-001",quantity:2,unitPrice:599.99,totalPrice:1199.98,category:"Hardware"},{id:"item_002",name:"Card Reader Module",sku:"CRM-002",quantity:2,unitPrice:50,totalPrice:100,category:"Accessories"}],shipping:{method:"Express Delivery",carrier:"FedEx",trackingNumber:"FX123456789",estimatedDelivery:"2024-01-25",shippingCost:25},billing:{method:"Credit Card",last4:"4242",cardType:"Visa",billingAddress:{street:"123 Business Ave",city:"New York",state:"NY",zip:"10001",country:"USA"}},delivery:{address:{name:"Downtown Store",street:"456 Main Street",city:"New York",state:"NY",zip:"10002",country:"USA"},instructions:"Deliver to loading dock. Contact manager on arrival."}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Order Items"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[s.items.map(r=>e.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:r.name}),e.jsx(S,{variant:"outline",children:r.category})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["SKU: ",r.sku]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Qty: ",r.quantity]}),e.jsxs("span",{children:["Unit: $",r.unitPrice]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm font-medium",children:["$",r.totalPrice]})})]},r.id)),e.jsxs("div",{className:"border-t pt-3 mt-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",s.items.reduce((r,c)=>r+c.totalPrice,0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Shipping"}),e.jsxs("span",{children:["$",s.shipping.shippingCost]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["$",(s.items.reduce((r,c)=>r+c.totalPrice,0)*.08).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-medium border-t pt-2 mt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",(s.items.reduce((r,c)=>r+c.totalPrice,0)+s.shipping.shippingCost+s.items.reduce((r,c)=>r+c.totalPrice,0)*.08).toFixed(2)]})]})]})]})})]}),e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4"}),"Shipping Information"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Method"}),e.jsx("span",{className:"text-sm font-medium",children:s.shipping.method})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Carrier"}),e.jsx("span",{className:"text-sm font-medium",children:s.shipping.carrier})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Tracking"}),e.jsx("span",{className:"text-sm font-medium",children:s.shipping.trackingNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Est. Delivery"}),e.jsx("span",{className:"text-sm font-medium",children:s.shipping.estimatedDelivery})]})]})]})})]}),e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Delivery Address"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:s.delivery.address.name})]}),e.jsxs("div",{className:"text-sm text-muted-foreground ml-6",children:[e.jsx("div",{children:s.delivery.address.street}),e.jsxs("div",{children:[s.delivery.address.city,", ",s.delivery.address.state," ",s.delivery.address.zip]}),e.jsx("div",{children:s.delivery.address.country})]}),e.jsxs("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:[e.jsx("strong",{children:"Delivery Instructions:"})," ",s.delivery.instructions]})]})})]}),e.jsxs(P,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(L,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Billing Information"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Method"}),e.jsx("span",{className:"text-sm font-medium",children:s.billing.method})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Card"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.billing.cardType," ****",s.billing.last4]})]})]})}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Billing Address"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("div",{children:s.billing.billingAddress.street}),e.jsxs("div",{children:[s.billing.billingAddress.city,", ",s.billing.billingAddress.state," ",s.billing.billingAddress.zip]}),e.jsx("div",{children:s.billing.billingAddress.country})]})]})]})})]})]})}const _t=[{key:"header",component:$t,alwaysExpanded:!0,supportsExpansion:!1},{key:"activity",component:Lt,supportsExpansion:!0},{key:"order",component:Bt,supportsExpansion:!0}],Vt=_t;function zt({sections:t,isDetailView:d=!1,orderData:i}){return Vt.map(({key:o,component:s,supportsExpansion:r,props:c={}})=>{const a={...c};return i&&(a.orderData=i),d?(r&&(a.isExpanded=!0,a.onToggle=()=>{}),a.isDetailView=!0):r&&(a.isExpanded=t.isExpanded(o),a.onToggle=()=>t.toggleSection(o)),e.jsx(s,{...a},o)})}function Ut(t={}){const[d]=l.useState({header:!0,activity:!0,order:!0,...t});return d}function Zt({open:t,onOpenChange:d,order:i,onBack:o,onOpenFullDetails:s,totalItems:r,navigatePrevious:c,navigateNext:a,canNavigatePrevious:n,canNavigateNext:g,className:m}){Ut({header:!0,activity:!0,order:!0});const f={isExpanded:()=>!0,toggleSection:()=>{}};return i?e.jsx(ee,{id:"order-details",open:t,className:m,children:e.jsx("div",{className:"h-full flex flex-col bg-muted",children:e.jsxs(xe,{ariaLabel:"Order details content",children:[e.jsx(he,{entityInfo:Rt(i),config:Zs,metadataComponent:Us,actionsComponent:zs,onBack:o??(()=>d(!1)),currentEntityId:i.id,onOpenFullDetails:s?()=>s(i.id):void 0,totalItems:r,navigatePrevious:c,navigateNext:a,canNavigatePrevious:n,canNavigateNext:g}),zt({sections:f,orderData:i})]})})}):e.jsx(ee,{id:"order-details",open:t,className:m,children:e.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No order selected"})})}const qt=[{id:"ord_001",transactionRef:"txn_ord_001_ref",orderId:"ORD-2024-001",description:"2x Terminal Pro X1 for Downtown Store",status:"fulfilled",totalAmount:1299.98,itemCount:2,orderDate:"2024-01-15",expectedDelivery:"2024-01-25",priority:"high",store:"Downtown Store",customer:"Downtown Store Manager",lastUpdated:"2024-01-20T14:30:00Z",trackingNumber:"FX123456789",paymentStatus:"paid"},{id:"ord_002",transactionRef:"txn_ord_002_ref",orderId:"ORD-2024-002",description:"1x Clover Mini + Accessories",status:"pending",totalAmount:599.99,itemCount:3,orderDate:"2024-01-18",expectedDelivery:"2024-01-28",priority:"medium",store:"Mall Location",customer:"Mall Store Manager",lastUpdated:"2024-01-18T09:15:00Z",paymentStatus:"paid"},{id:"ord_003",transactionRef:"txn_ord_003_ref",orderId:"ORD-2024-003",description:"3x Clover Flex Mobile Units",status:"confirmed",totalAmount:1799.97,itemCount:3,orderDate:"2024-01-20",expectedDelivery:"2024-01-30",priority:"high",store:"Airport Location",customer:"Airport Store Manager",lastUpdated:"2024-01-21T11:45:00Z",paymentStatus:"paid"},{id:"ord_004",transactionRef:"txn_ord_004_ref",orderId:"ORD-2024-004",description:"1x Terminal Replacement Unit",status:"cancelled",totalAmount:649.99,itemCount:1,orderDate:"2024-01-12",expectedDelivery:"2024-01-22",priority:"low",store:"Warehouse",customer:"Warehouse Manager",lastUpdated:"2024-01-14T16:20:00Z",paymentStatus:"refunded"},{id:"ord_005",transactionRef:"txn_ord_005_ref",orderId:"ORD-2024-005",description:"2x Card Reader Modules",status:"returned",totalAmount:199.98,itemCount:2,orderDate:"2024-01-10",expectedDelivery:"2024-01-20",priority:"medium",store:"Downtown Store",customer:"Downtown Store Manager",lastUpdated:"2024-01-25T13:10:00Z",trackingNumber:"FX987654321",paymentStatus:"refunded"}],Ht={async getOrdersForNavigation(t){await new Promise(i=>setTimeout(i,500));let d=[...qt];if(t?.status&&t.status!=="all"&&(d=d.filter(i=>i.status===t.status)),t?.priority&&t.priority!=="all"&&(d=d.filter(i=>i.priority===t.priority)),t?.store&&t.store!=="all"&&(d=d.filter(i=>i.store===t.store)),t?.search){const i=t.search.toLowerCase();d=d.filter(o=>o.orderId.toLowerCase().includes(i)||o.description.toLowerCase().includes(i)||o.store?.toLowerCase().includes(i)||o.customer?.toLowerCase().includes(i))}return{data:d,total:d.length,page:1,pageSize:50}}};function Wt({closePanelsTrigger:t}){const[d,i]=l.useState(!1),[o,s]=l.useState(0),[r,c]=l.useState({deviceSelection:{deviceType:"",deviceModel:"",accessories:[],quantity:1}}),a=Ot(),n=At(),g=ge(),m=Le({batchActions:{cancel:n.handleBatchCancel,return:n.handleBatchReturn,export:n.handleBatchExport,fulfill:n.handleBatchFulfill}}),f=[{id:"basic-info",title:"Basic Information",description:"Configure terminal details",substeps:[{id:"device-type",title:"Device Type",description:"Select terminal model and accessories"},{id:"location",title:"Location",description:"Set terminal location details"}]},{id:"configuration",title:"Configuration",description:"Set up terminal settings",substeps:[{id:"network",title:"Network",description:"Configure network settings"},{id:"payment",title:"Payment",description:"Set up payment processing"}]},{id:"review",title:"Review & Order",description:"Review and place your order"}],N=()=>{i(!0),s(0)},C=()=>{i(!1),s(0),c({deviceSelection:{deviceType:"",deviceModel:"",accessories:[],quantity:1}})},w=p=>{c(x=>({...x,deviceSelection:{...x.deviceSelection,...p.deviceSelection}}))},v=(p,x)=>{if(p==="basic-info"){if(x==="device-type")return e.jsx(be,{formData:r,updateFormData:w});if(x==="location")return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Terminal Location"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set the physical location for this terminal"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"store-name",children:"Store Name"}),e.jsx(R,{id:"store-name",placeholder:"Enter store name"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"terminal-id",children:"Terminal ID"}),e.jsx(R,{id:"terminal-id",placeholder:"Auto-generated",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"location",children:"Location within Store"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select location"})}),e.jsxs(q,{children:[e.jsx(T,{value:"counter",children:"Main Counter"}),e.jsx(T,{value:"entrance",children:"Store Entrance"}),e.jsx(T,{value:"checkout",children:"Checkout Area"}),e.jsx(T,{value:"customer-service",children:"Customer Service"})]})]})]})]})]})})}if(p==="configuration"){if(x==="network")return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Network Configuration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure network and connectivity settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"connection-type",children:"Connection Type"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select connection type"})}),e.jsxs(q,{children:[e.jsx(T,{value:"ethernet",children:"Ethernet"}),e.jsx(T,{value:"wifi",children:"Wi-Fi"}),e.jsx(T,{value:"cellular",children:"Cellular"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"ip-address",children:"IP Address"}),e.jsx(R,{id:"ip-address",placeholder:"Auto-assign"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"subnet",children:"Subnet Mask"}),e.jsx(R,{id:"subnet",placeholder:"255.255.255.0"})]})]})]})]})});if(x==="payment")return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Payment Configuration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set up payment processing options"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"merchant-id",children:"Merchant ID"}),e.jsx(R,{id:"merchant-id",placeholder:"Enter merchant ID"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"payment-processor",children:"Payment Processor"}),e.jsxs(z,{children:[e.jsx(U,{children:e.jsx(Z,{placeholder:"Select processor"})}),e.jsxs(q,{children:[e.jsx(T,{value:"stripe",children:"Stripe"}),e.jsx(T,{value:"square",children:"Square"}),e.jsx(T,{value:"paypal",children:"PayPal"})]})]})]})]})]})})}return p==="review"?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-2",children:"Review Your Order"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please review your terminal order details"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Device:"}),e.jsx("span",{children:r.deviceSelection.deviceModel||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quantity:"}),e.jsx("span",{children:r.deviceSelection.quantity})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accessories:"}),e.jsx("span",{children:r.deviceSelection.accessories.length||"None"})]})]})]})]})}):e.jsx("div",{className:"p-8",children:"Step content not implemented"})};return e.jsxs("div",{className:"flex flex-col gap-6 p-6 pb-24",children:[e.jsx(Be,{fetchData:Ht.getOrdersForNavigation,pageConfig:{header:{title:"Orders",description:"Manage and monitor your orders",primaryAction:{label:"Order Terminal",icon:e.jsx(Y,{className:"h-4 w-4"}),onClick:N}},statusFilters:fe.getFilters("order"),table:{component:It,props:{onView:n.handleView,onCancel:n.handleCancelOrder,onReturn:n.handleReturnOrder}},tableFilters:{component:je,props:{entity:"orders",onBulkAction:m.handleBulkAction}}},useFilters:()=>a,useSelection:()=>m,usePageSize:()=>g,animationKey:a.statusFilter,basePath:"/in-stores/orders",renderPanel:p=>e.jsx(Zt,{open:p.open,onOpenChange:p.onOpenChange,order:p.entity,onBack:p.onBack,onOpenFullDetails:p.onOpenFullDetails,totalItems:p.totalItems,navigatePrevious:p.navigatePrevious,navigateNext:p.navigateNext,canNavigatePrevious:p.canNavigatePrevious,canNavigateNext:p.canNavigateNext})}),e.jsx(Ne,{isOpen:d,onClose:C,steps:f,currentStep:o,onStepChange:s,renderStepContent:v,title:"Order Terminal",subtitle:"Configure and order a new terminal for your location"})]})}function Jt(){const t=Ge(),d=ce(),i=()=>{const n=t.pathname;return n.includes("/inventory")?"inventory":n.includes("/orders")?"orders":"terminals"},[o,s]=l.useState(i),[r,c]=l.useState(0);l.useEffect(()=>{s(i())},[t.pathname]);const a=n=>{c(g=>g+1),s(n),d(`/in-stores/${n}`)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-shrink-0 border-b bg-background px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"In-Stores"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage terminals, inventory, and orders for your physical locations"})]})})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs(qs,{value:o,onValueChange:a,className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 border-b bg-background px-6",children:e.jsxs(Hs,{className:"grid w-full max-w-md grid-cols-3",children:[e.jsx(me,{value:"terminals",children:"Terminals"}),e.jsx(me,{value:"inventory",children:"Inventory"}),e.jsx(me,{value:"orders",children:"Orders"})]})}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx(ue,{value:"terminals",className:"h-full m-0 p-0",children:e.jsx(mt,{closePanelsTrigger:r},`terminals-${o}`)}),e.jsx(ue,{value:"inventory",className:"h-full m-0 p-0",children:e.jsx(Mt,{closePanelsTrigger:r},`inventory-${o}`)}),e.jsx(ue,{value:"orders",className:"h-full m-0 p-0",children:e.jsx(Wt,{closePanelsTrigger:r},`orders-${o}`)})]})]})})]})}export{Jt as InStoresPage,Jt as default};
